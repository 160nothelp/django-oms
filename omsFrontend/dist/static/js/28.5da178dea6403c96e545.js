webpackJsonp([28],{"3HnK":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,"",""])},"6ohx":function(t,e,a){"use strict";function l(t){a("hFMl")}Object.defineProperty(e,"__esModule",{value:!0});var s=a("nSkA"),i=a("QmSG"),n={components:{},data:function(){return{tableData:[],tabletotal:0,currentPage:1,pagesize:i.pagesize,pageformat:i.pageformat,rowdata:{},selectId:[],butstatus:!0,listQuery:{offset:"",limit:i.LIMIT,username:"",type:""},photo:"",showPhoto:!1}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;Object(s.e)(this.listQuery).then(function(e){t.tableData=e.data.results,t.tabletotal=e.data.count})},handleSelectionChange:function(t){this.selectId=[];for(var e=0,a=t.length;e<a;e++)this.selectId.push(t[e].id);this.selectId.length>0?this.butstatus=!1:this.butstatus=!0},searchClick:function(){this.fetchData()},handleSizeChange:function(t){this.listQuery.limit=t,this.fetchData()},handleCurrentChange:function(t){console.log(t),this.listQuery.offset=(t-1)*i.LIMIT,this.fetchData()},deleteForm:function(){var t=this;console.log(this.selectId);for(var e=0,a=this.selectId.length;e<a;e++)Object(s.b)(this.selectId[e]).then(function(a){delete t.selectId[e]});setTimeout(this.fetchData,1e3)}}},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"components-container",staticStyle:{height:"100vh"}},[a("el-card",[a("div",{staticClass:"head-lavel"},[a("div",{staticClass:"table-button"}),t._v(" "),a("div",{staticClass:"table-search"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"110px"},attrs:{placeholder:"上传人员"},model:{value:t.listQuery.username,callback:function(e){t.$set(t.listQuery,"username",e)},expression:"listQuery.username"}}),t._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"110px"},attrs:{placeholder:"文件类型"},model:{value:t.listQuery.type,callback:function(e){t.$set(t.listQuery,"type",e)},expression:"listQuery.type"}}),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"search"},on:{click:t.searchClick}},[t._v("搜索")])],1)]),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"上传用户",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"filename",label:"文件名",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"archive",label:"文件归档",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"文件类型",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"size",label:"文件大小"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"文件日期",sortable:""}})],1)],1),t._v(" "),a("div",{staticClass:"table-footer"},[a("div",{staticClass:"table-button"},[a("el-button",{attrs:{type:"danger",disabled:t.butstatus},on:{click:t.deleteForm}},[t._v("删除记录")])],1),t._v(" "),a("div",{staticClass:"table-pagination"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pagesize,"page-size":t.listQuery.limit,layout:t.pageformat,total:t.tabletotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)])]),t._v(" "),a("el-dialog",{attrs:{visible:t.showPhoto},on:{"update:visible":function(e){t.showPhoto=e}}},[a("img",{staticClass:"photo-align",attrs:{src:t.photo}})])],1)},r=[],c={render:o,staticRenderFns:r},u=c,h=a("VU/8"),p=l,d=h(n,u,!1,p,null,null);e.default=d.exports},hFMl:function(t,e,a){var l=a("3HnK");"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);a("rjj0")("6a263aee",l,!0)}});