webpackJsonp([37],{"Bn+B":function(a,t,e){t=a.exports=e("FZ+f")(!1),t.push([a.i,".title[data-v-4d82b2da]{color:#94acff;font-size:20px}.panel-group[data-v-4d82b2da]{margin-top:18px}.panel-group .card-panel-col[data-v-4d82b2da]{margin-bottom:32px}.panel-group .card-panel[data-v-4d82b2da]{cursor:pointer;font-size:12px;position:relative;overflow:hidden;color:#666;background:#fff;-webkit-box-shadow:4px 4px 40px rgba(0,0,0,.05);box-shadow:4px 4px 40px rgba(0,0,0,.05);border-color:rgba(0,0,0,.05)}.panel-group .card-panel:hover .card-panel-icon-wrapper[data-v-4d82b2da]{color:#fff}.panel-group .card-panel:hover .icon-people[data-v-4d82b2da]{background:#40c9c6}.panel-group .card-panel:hover .icon-message[data-v-4d82b2da]{background:#f4516c}.panel-group .card-panel:hover .icon-money[data-v-4d82b2da]{background:#4b4b4b}.panel-group .card-panel:hover .icon-shoppingCard[data-v-4d82b2da]{background:#f4516c}.panel-group .card-panel .icon-people[data-v-4d82b2da]{color:#40c9c6}.panel-group .card-panel .icon-message[data-v-4d82b2da]{color:#f4516c}.panel-group .card-panel .icon-money[data-v-4d82b2da]{color:#4b4b4b}.panel-group .card-panel .icon-shoppingCard[data-v-4d82b2da]{color:#f4516c}.panel-group .card-panel .card-panel-icon-wrapper[data-v-4d82b2da]{float:left;margin:14px 0 0 14px;padding:14px;-webkit-transition:all .5s ease-out;transition:all .5s ease-out;border-radius:6px;border:1px solid}.panel-group .card-panel .wenzi[data-v-4d82b2da]{font-size:24px}.panel-group .card-panel .card-panel-description[data-v-4d82b2da]{float:right;font-weight:700;margin:26px}.panel-group .card-panel .card-panel-description .card-panel-text[data-v-4d82b2da]{line-height:18px;color:rgba(0,0,0,.45);font-size:16px;margin-bottom:12px}.panel-group .card-panel .card-panel-description .card-panel-num[data-v-4d82b2da]{font-size:20px}.head-lavel[data-v-4d82b2da]{padding-bottom:50px}.table-button[data-v-4d82b2da]{padding:10px 0;float:left}.table-pagination[data-v-4d82b2da],.table-search[data-v-4d82b2da]{float:right;padding:10px 0}",""])},WBr4:function(a,t,e){var l=e("Bn+B");"string"==typeof l&&(l=[[a.i,l,""]]),l.locals&&(a.exports=l.locals);e("rjj0")("2daef7e8",l,!0)},lkyS:function(a,t,e){"use strict";function l(a){e("WBr4")}Object.defineProperty(t,"__esModule",{value:!0});var n=e("Dd8w"),s=e.n(n),i=e("IcnI"),o=e("QmSG"),c=e("NYxO"),r=e("wLjJ"),d={components:{},data:function(){return{status:!0,tableData:[],tabletotal:0,currentPage:1,limit:o.LIMIT,offset:"",pagesize:[10,25,50,100],getminions:!0,searchdata:"",allminions:{}}},computed:s()({},Object(c.b)(["allkeys"])),created:function(){this.getAllminions()},methods:{getAllkeys:function(){i.a.dispatch("getAllKeys")},getAllminions:function(){var a=this;this.getminions=!1,Object(r.a)().then(function(t){a.status=!1,a.getminions=!0,a.allminions=t.data.results,a.tableData=a.allminions.up,a.tabletotal=a.allminions.up.length})},searchClick:function(){this.fetchData()},handleSizeChange:function(a){this.limit=a,this.fetchData()},handleCurrentChange:function(a){this.offset=(a-1)*o.LIMIT,this.fetchData()},statusChange:function(a){a?(this.tableData=this.allminions.down,this.tabletotal=this.allminions.down.length,console.log(this.tabletotal)):(this.tableData=this.allminions.up,this.tabletotal=this.allminions.up.length,console.log(this.tabletotal))}}},p=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"components-container",staticStyle:{height:"100vh"}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:14}},[e("el-card",[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"title"},[a._v("salt-keys 数据统计")]),a._v(" "),e("el-button",{staticStyle:{padding:"3px"},attrs:{type:"success",plain:""},on:{click:a.getAllkeys}},[a._v("重新获取")])],1),a._v(" "),e("el-row",{staticClass:"panel-group",attrs:{gutter:60}},[e("el-col",{staticClass:"card-panel-col",attrs:{span:8}},[e("div",{staticClass:"card-panel"},[e("div",{staticClass:"card-panel-icon-wrapper icon-people"},[e("a",{staticClass:"wenzi"},[a._v("已接受")])]),a._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[a._v("accepted")]),a._v(" "),e("p",[a._v(a._s(a.allkeys.accepted))])])])]),a._v(" "),e("el-col",{staticClass:"card-panel-col",attrs:{span:8}},[e("div",{staticClass:"card-panel"},[e("div",{staticClass:"card-panel-icon-wrapper icon-money"},[e("a",{staticClass:"wenzi"},[a._v("未接受")])]),a._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[a._v("unaccept")]),a._v(" "),e("p",[a._v(a._s(a.allkeys.unaccept))])])])]),a._v(" "),e("el-col",{staticClass:"card-panel-col",attrs:{span:8}},[e("div",{staticClass:"card-panel"},[e("div",{staticClass:"card-panel-icon-wrapper icon-shoppingCard"},[e("a",{staticClass:"wenzi"},[a._v("已拒绝")])]),a._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[a._v("rejected")]),a._v(" "),e("p",[a._v(a._s(a.allkeys.rejected))])])])])],1)],1),a._v(" "),e("el-card",[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"title"},[a._v("salt-minions 存活状态")]),a._v(" "),a.getminions?e("el-button",{staticStyle:{padding:"3px"},attrs:{type:"success",plain:""},on:{click:a.getAllminions}},[a._v("重新获取\n          ")]):a._e(),a._v(" "),a.getminions?a._e():e("el-button",{staticStyle:{padding:"3px"},attrs:{type:"success",plain:"",loading:!a.getminions}},[a._v("拼命获取中\n          ")])],1),a._v(" "),e("div",{staticClass:"head-lavel"},[e("div",{staticClass:"table-button"},[e("el-switch",{staticStyle:{margin:"10px 0"},attrs:{"active-color":"#ff4949","inactive-color":"#13ce66","active-text":"Down","inactive-text":"Up"},on:{change:a.statusChange},model:{value:a.status,callback:function(t){a.status=t},expression:"status"}})],1),a._v(" "),e("div",{staticClass:"table-search"})]),a._v(" "),e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData,border:""}},[e("el-table-column",{attrs:{prop:"hostname",label:"主机id"}}),a._v(" "),a.status?a._e():e("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-tag",{attrs:{color:"13ce66",size:"small"}},[a._v(a._s(t.row.status))])]}}])}),a._v(" "),a.status?e("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-tag",{attrs:{color:"13ce66",size:"small"}},[a._v(a._s(t.row.status))])]}}])}):a._e()],1)],1),a._v(" "),e("div",{staticClass:"table-footer"},[e("div",{staticClass:"table-button"}),a._v(" "),e("div",{staticClass:"table-pagination"},[e("el-pagination",{attrs:{"current-page":a.currentPage,"page-sizes":a.pagesize,"page-size":a.limit,layout:"total",total:a.tabletotal},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange,"update:currentPage":function(t){a.currentPage=t}}})],1)])])],1)],1)],1)},u=[],v={render:p,staticRenderFns:u},g=v,b=e("VU/8"),h=l,f=b(d,g,!1,h,"data-v-4d82b2da",null);t.default=f.exports}});