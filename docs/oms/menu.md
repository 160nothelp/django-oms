# 菜单模块

---

## 菜单
这里只存放一级菜单、二级菜单和页面元素的数据。

---

## 菜单权限
当用户登录时，后端会根据之前用户绑定的菜单信息生成一个前端所需要的路由数据，如下：

``` json
{
    "groups": [
        "CS_Dept",
        "CS_sharepoint",
        "CS_File",
        "客服部IM"
    ],
    "menus": [
        "添加工单",
        "工单系统",
        "编辑工单",
        "查看工单",
        "工单列表"
    ],
    "elements": [
        "工单列表-新建工单按钮"
    ]
}
```

前端拿到这段数据后，会先判断 `groups` 里是否有超级管理员组，有的话给与全部权限，没有就根据 `menus` 与路由表进行比对生成符合用户权限的路由表， `elements` 是页面元素权限，主要是针对一些按钮或是超链接的控制。例如上面的用户就只能看到工单列表页，并且有工单页面的添加工单权限。
